<script>
  document.getElementById("generate").onclick = async () => {
    const brief = document.getElementById("brief").value;
    const resultArea = document.getElementById("result");

    const prompt = `
You are StratGenie, a senior AI strategist working in a creative agency.

Read the creative brief below and respond with:

Brief Summary:
Key Elements:
- Brand:
- Objective:
- Target Audience:
- Tone of Voice:
- Mandatories:

Core Insight:
Strategic Territories (2–3):
Creative Idea Directions (title + concept + rationale x2):
Tagline Ideas (5):

Brief:
${brief}
`;

    resultArea.textContent = "✨ Thinking...";

    try {
      const response = await puter.ai.chat(prompt, {
        model: "gpt-4o",
        stream: false,
        temperature: 0.8,
        max_tokens: 1200
      });

      const content = response?.message?.content;
      resultArea.textContent = content || "⚠️ No response returned.";
    } catch (e) {
      console.error("StratGenie error:", e);
      resultArea.textContent = `❌ Error: ${e.message || e}`;
    }
  };
</script>
